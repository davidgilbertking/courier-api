# Courier API

REST API –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∫—É—Ä—å–µ—Ä–∞–º–∏, —Ç—Ä–∞–Ω—Å–ø–æ—Ä—Ç–æ–º –∏ –∑–∞—è–≤–∫–∞–º–∏ –∫—É—Ä—å–µ—Ä–æ–≤.  
–†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º **Yii2 Framework**, **MySQL**, **Swagger UI** –∏ **Codeception**.

---

## ‚öôÔ∏è –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∏ –∑–∞–ø—É—Å–∫ —á–µ—Ä–µ–∑ Vagrant

1. –ö–ª–æ–Ω–∏—Ä—É–π—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π:

```bash
git clone https://github.com/davidgilbertking/courier-api.git
cd courier-api
```

2. –ü–æ–¥–Ω–∏–º–∏—Ç–µ –≤–∏—Ä—Ç—É–∞–ª—å–Ω—É—é –º–∞—à–∏–Ω—É:

```bash
vagrant up
```

3. –ü–æ–¥–∫–ª—é—á–∏—Ç–µ—Å—å –∫ –º–∞—à–∏–Ω–µ:

```bash
vagrant ssh
cd /vagrant/courier-api
```

4. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –∏ –≤—ã–ø–æ–ª–Ω–∏—Ç–µ –º–∏–≥—Ä–∞—Ü–∏–∏:

```bash
composer install
php yii migrate
```

5. –ó–∞–ø—É—Å—Ç–∏—Ç–µ –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–π —Å–µ—Ä–≤–µ—Ä:

```bash
php -S localhost:8080 -t web
```

6. –û—Ç–∫—Ä–æ–π—Ç–µ Swagger UI –ø–æ –∞–¥—Ä–µ—Å—É:

```
http://localhost:8081/docs
```

> Swagger UI –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é –∏–∑ —Ñ–∞–π–ª–∞ `web/openapi.yaml`.

---

## üîë –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è

API –∏—Å–ø–æ–ª—å–∑—É–µ—Ç API-–∫–ª—é—á, –∫–æ—Ç–æ—Ä—ã–π –ø–µ—Ä–µ–¥–∞—ë—Ç—Å—è –≤ –∑–∞–≥–æ–ª–æ–≤–∫–µ:

```
X-Api-Key: <—Ç–æ–∫–µ–Ω>
```

–¢–æ–∫–µ–Ω —Å–æ–∑–¥–∞–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—Ä–∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–∏ –Ω–æ–≤–æ–≥–æ –∫—É—Ä—å–µ—Ä–∞.  
–ö—É—Ä—å–µ—Ä—ã —Å —Ä–æ–ª—å—é `main` –∏–º–µ—é—Ç –¥–æ—Å—Ç—É–ø –∫ –º–µ—Ç–æ–¥–∞–º POST, PUT, DELETE.

---

## ‚úÖ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

–î–ª—è –∑–∞–ø—É—Å–∫–∞ unit-—Ç–µ—Å—Ç–æ–≤ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è **Codeception**.

–¢–µ—Å—Ç—ã –Ω–∞—Ö–æ–¥—è—Ç—Å—è –≤ –ø–∞–ø–∫–µ:

```
tests/unit/models
```

–ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤:

```bash
vendor/bin/codecept run unit
```

–¢–µ—Å—Ç–∏—Ä—É—é—Ç—Å—è –º–æ–¥–µ–ª–∏:
- `Courier`
- `Vehicle`
- `CourierRequest`

–ö–∞–∂–¥—ã–π —Ç–µ—Å—Ç –∏–∑–æ–ª–∏—Ä–æ–≤–∞–Ω —Å –ø–æ–º–æ—â—å—é —Ç—Ä–∞–Ω–∑–∞–∫—Ü–∏–π –∏ –æ—Ö–≤–∞—Ç—ã–≤–∞–µ—Ç:
- –≤–∞–ª–∏–¥–∞—Ü–∏–∏
- —É–Ω–∏–∫–∞–ª—å–Ω–æ—Å—Ç—å –ø–æ–ª–µ–π
- —Å–≤—è–∑–∏ –º–µ–∂–¥—É –º–æ–¥–µ–ª—è–º–∏
- –≥–µ–Ω–µ—Ä–∞—Ü–∏—é API-—Ç–æ–∫–µ–Ω–æ–≤

---

## üìù –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è OpenAPI

–§–∞–π–ª `web/openapi.yaml` —Å–æ–¥–µ—Ä–∂–∏—Ç —Å–ø–µ—Ü–∏—Ñ–∏–∫–∞—Ü–∏—é API.  
Swagger UI –∏—Å–ø–æ–ª—å–∑—É–µ—Ç —ç—Ç–æ—Ç —Ñ–∞–π–ª –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏.

---

## üìÅ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

- `models/` ‚Äî –º–æ–¥–µ–ª–∏ ActiveRecord
- `controllers/` ‚Äî REST-–∫–æ–Ω—Ç—Ä–æ–ª–ª–µ—Ä—ã
- `migrations/` ‚Äî –º–∏–≥—Ä–∞—Ü–∏–∏ –¥–ª—è MySQL
- `web/` ‚Äî –ø—É–±–ª–∏—á–Ω–∞—è –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è
- `web/docs/` ‚Äî Swagger UI
- `tests/` ‚Äî unit-—Ç–µ—Å—Ç—ã Codeception

---

## üë§ –ê–≤—Ç–æ—Ä

[David Gilbert King](https://github.com/davidgilbertking)